(function(e){function t(t){for(var a,s,r=t[0],c=t[1],A=t[2],u=0,d=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&d.push(o[s][0]),o[s]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);l&&l(t);while(d.length)d.shift()();return i.push.apply(i,A||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],a=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(a=!1)}a&&(i.splice(t--,1),e=s(s.s=n[0]))}return e}var a={},o={index:0},i=[];function s(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=a,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)s.d(n,a,function(t){return e[t]}.bind(null,a));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var A=0;A<r.length;A++)t(r[A]);var l=c;i.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("a429")},"016f":function(e,t,n){},"021a":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAASKADAAQAAAABAAAASAAAAACQMUbvAAAFN0lEQVR4Ae2aX2gcRRjA73J3icdFS4z6IFahomALFhEVNbVEAwlckgfpgxV8KoKgL7YFEf9UBR98sFRBn9TXIgVp/hBz+JAWJUiNoGiwSBqwaqKkV8E00JBczt+cmfDt3O7d3u1tN65zsOx833z7zXy//WZ2dvYSCfuzBCwBS8ASsAQsAUvAErAEXAgkXXSRqcbHx/MbGxvP0YGHyuXyjmQy+RtHoa2t7UQ+n/85io5tC0AzMzOZxcXF48B5wQPCGpCODg0Nve9RH5q6LTTPDTheWFj4rAYc5SlD/Xujo6PPNOC2JaaRZ9DY2NgBgj/lJxqG2yWOe8ikS37sW2ETaQYxz6Q43nUJ5EtAnED/q6zD9ibkY1IXdjlSQGTPAwR9uwwSMCeHh4f3c7yYy+Xuo25R1pNtT0o57HKkgNRwMQNE9w5HWen7+vqKTM4fGTa3TkxM3GDoQhMjBUQ23GxG1tXVNW/oLhpyIpVK7TB1YcmRAiI7dhqBlXp6epaljiF4vZRVmev+NnVhyZECIvg7ZGAMrctS3ix3Sx026wy9+AMCjlpi7JHBo/tRyqqMzgEI+bKeo0zbMOTIMohFXz/B7pJBEfg5KasyutukDrko5bDLkQEisCMuwZ120d1r6K7pO1kkgFj/vEXQfTJwMuM8a5+vpW5ycvJGssyxTkL+TtqEXU6H3YD0Pzs72z4/P/8Gj/eXpV6VCfx1U7e+vr7X1PEE+28Bmp6ezhaLxZwZiJaz2Wx5dXU1UyqVDs7NzR1G75hTlB3Z8wXZU/U+BsiHtR99BuTvLBS31k/4rSwqOzs7r/T29l7Vdq06B8ogJtqXlpaW3qYzKa8OrayseFVp/YX29vantGCc9xmyyrRza2trpjqxvLxcpj9z1H/KQvL44ODgX1VGTSiCzkGv0aYnHB/9+SGdTj8xMDBQtf4hUOX3ER8+KibYJznuQniVrDrP5lsVXL++pF0gQHTIc2jJRlzKGwyrj7u7ux9lp/AXl/oEAe7Ff7PvXLcAqUBGOdZZbu3U0wUaYvWce9UzBB5kCHzrVb+pD5oBWQB/iK/9ddqpWd1SQGTFhDpki0y0h5DVtsXWzwccZfs9vp7fusijgE1l0w8Yd3M8i1lWmD5GFh3kAXBS6BoqthQQHfyGznwgezAyMqLuoAOQrPcqs2t4hjp1+P6xvjrFDTnLBXLqeBq5aUDSke+ObFdDoH5F3z6X/eOm3S/lRsuxAqSCZ8T9ZEBwvOwadXXF2AEi4l0yaoAFWg/FChAr7N3AyUtAlGcNuSExNoAKhcJOVtijzDkdBgG3HQLDxFuMDSDe99Tm/p0yVIbXHx0dHZ9IXaPl2AAicHMyVqv1Q/39/XVfBmtBiw0ghlanDBQ4p3nsOxatst5vOTaAAOIABIBATy8NMDaAzAxCvqKDDHKODSAyKCdBIFtAGsjU1NR1ZIzjvRI50OSsfccig9j7cWSPCs5mkL7FnFkDmRO0BST4JMigKkBse9g5SENih7IKkB1img5nsqUKENDsJK0ZmY94pbdDTNPhbC4SVRVfYO0cpBm5AcpkMhaQBsQQq5qD+K7fEkCVTya6oUbPfLGofBfX19HRs9zNM1rePB/gvMfQvWnIgUTa3Ue7j0snfF1Joy9JXTNlx/K8GQfyGjqpPvH4+VB3TF4XtEy7DheAudoKOMppLF41HHT+FVoyvAID4i5dsz9TukCopfqzVmUjdYEyCEBHtxsk+rMEgFcagWBtLQFLwBKwBCwBS8ASsAQsAUvAErAELAFLwBL4HxH4BzJuno1ru2f3AAAAAElFTkSuQmCC"},"0bd0":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAASKADAAQAAAABAAAASAAAAACQMUbvAAAFZElEQVR4Ae2bXWgdRRTHz5m9NzfVqFitFW3VIlHrB1WsjfrSJyPog/Wjgl/YxgREBKFv+qBC40PBgqCPVkFBoRFR8KXgQ1F8aFLxwaogrQ1WFG1Em7Tm42bn+N/b7O3M7t6bu3f35so6gXTmnDkzO+eXM5+7JXI/joAj4Ag4Ao6AI+AIOAKOgCPgCDgCjoAj4AgUigBn8WZh3x0jQvS6iFzYsB0YUKanNGw5uYDpJLM3Uhk69GmyQTqtSmduWy8LxzZfGUloDWn9Wl4PywaoWeTk1cM22hGStW1US6ySCVBii/8BJTP35dWNUl4NLbVzRJi+NdvE9LMV8hWmDjYfmnLWvCK+EfPgprAd5Htl/3aPHx3zQ127aa6AAjha2HIeD+hHyFuAojbtdr5eT+QBZqoDOqv/K4iiU3WbNjOFGGKsaC7m/8zs+TFdG4pCACLm2ajv86VqLvNQIQCJjkeQ8pUDVI8akdgQY+07QCEgJo4B8j0XQSEf8lVSBGkXQSGhsnixSRrLvlvFQkA+LcaGGEk+u+lirGIcjyBhcUMsjCAcLRYxUdvHChdBIZ4w1dYwY3IRFJKppTqy1GsSN0mbhFTkuMHCF5vl7eYLMUkHzmMesoYYNNvm3h24r10wYb3CAIJDM6FTQYrrYIWr133y3mCmoVYYQCL8Jrj8ZkJCWF1erf49ZOlSCoUBpJmmfOJR3GBWTQaYrLeZctp8YQAtOX4Cd0MTFgShmyw5pVA0QMHc87vJgFkyrWaFA4QN4joTkAj9acpp84UCxIo3IoRuNyHgFdDXppw2n+tbDSXUj5C29h64Dr2snVfPJUU3s6b1rTiksSsEmCtZy2BteTcrMX9gimnzuQJC5zajo5uX64THcq0vfKyZnda0AV6PNLOpl+HBwc9SclYI/mX+ojI0br2GOlfYWq4rQ4yF9gLS84iQVY26KVp/16isFT2G1ix79Fwrts1sMgHCrd2ZZo03KqsNA6FBz9N7yqTWJNkJ8yT2NP8klS2rY/5DKb63smMiE+TgOZkAkajd+EvZ9zAJvcdKgk3tud/QBLvfazT5o6wSriYYMwrxD6Htcin+WHgCHcVEPVrprdxQ3jn+5XJ1WinP/OWO7L9rFS1Wmp935s+U5oUfIy27gMlahoNOohPfLBK/Eu2wItmOsqdMvfJ4S1l6J01dLc/eDO88GDmwxqxSKzIDSvNEfFDQszA9+Sre1b8Yr8d7EIpfmfoSyy2IPOtbHyb1YGV4/BPTrpP5bEMsZc/wtcVCZXjiJQzL3fGq8kRU5zMdj+oQbrfGdB1UrCig0I/KMxMvYwn+PJSX0nUI5+tNnWg+jWg7aepIdPEBBQ57ivZajgc6kjtjOuZoFF0Xtemk3JUIChwq7Rg/gCj6yXQOy1C/KQd5TfZZCsv/JVGbTspdA4R5COcDOmI6B/lqUw7yosW6KcQmczWuV1dscekaoJrzIj9bQBK+LWRPTZs2mJNKNHZP48+OTeMc8l0FxEqdMH1AZHix44dI7L07nT71PwEUXaFACxvBtSY0jKX4UaRHZf720HxGs3xXIwjr1vfxzumHQx1eS1yAA8RgKNdSpl/5yUPWsLPKcxZyve5I27dy3/rD89PHg3noqnpdoa1Y7i/FjvkoVqy7sZNeXS8LMkIfW3KHhRVbDRr5Mf/OwCOi/bFG5RH9VOW8vo38+MGpiL5jYpeHGBH+08lHWPI/a8VDdHbXSsIJ+tR1QEEnejbd9hCSt4J80g/CvEqKX+gZPvx+UnkndV0fYqZzc29vuR/7x2ex1xlAxy7CfdAvmHMOUJnf6H16/EfT1uUdAUfAEXAEHAFHwBFwBByBrhL4F/AJZzs/u9aFAAAAAElFTkSuQmCC"},1:function(e,t){},2336:function(e,t,n){e.exports=n.p+"img/Pic_Avatar_s@3x.79e106c2.png"},"2bb8":function(e,t){e.exports="data:image/png;base64,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"},"3a5a":function(e,t,n){e.exports=n.p+"img/robot.ccd539bc.jpeg"},4123:function(e,t,n){"use strict";var a=n("5298"),o=n.n(a);o.a},4276:function(e,t,n){"use strict";var a=n("8001"),o=n.n(a);o.a},"47e9":function(e,t,n){},"4d1c":function(e,t,n){"use strict";var a=n("accf"),o=n.n(a);o.a},5298:function(e,t,n){},6078:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAYKADAAQAAAABAAAAYAAAAACpM19OAAADw0lEQVR4Ae2aPYtTQRSGNx8QkE1QEAsru4CCWwjrb7BzEft0qQ2JpZsmYj5/gJ1oFQsLf4FlBGG3sNpCFNwfkIAgIYlnQghx7kdObubOmZv7Liw3c+fMOTPPe+dNbnKPjvAHAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAAAiAQC4HMPllrtdpin/GHMnYwGETmmD0UCEldBwQQVg4CQABhAsLlsQMggDAB4fLYARBAmIBw+VTugEwm8z6Xyz0pFAp36PU9+n9GOnyR0CIvUVSw5t9sNvu81+t91ubwc7FYfGo0Gi/n8/kbrS/WZqp2AF3pr3zgLwFT34L62nQcxkpcS54mAX4Xi8Wetn5Pk6zphedkjCfSJMDXZrM538ay0+lcU8yvbXGm+lMjAHn/jx2g7RK7Q1pvaGoEoDfZB97l+5+h9wF2rH8G/tnUCEBITsmCjrehqdfrD0ms29viTPWnRgCCems8Hoe+CQ+HwxzFvTUFl5MnNQKsYFTpCqeN0PTc/9C5m6PR6AMJ8JgDzlSMZyKmEruah260zmknPKWfUz/SR85v1L5Bc300mUwqBP+u7XmnToAV4BM6nsxmM9u8PfXSZkEeANInIICwAhAAAoQSmNJNUYUipqFRCe50fQe0+v3+O+LbSjDj0Kk7KwBd+Rflcvm1mr06qnboShLa6aoA03w+X6lWq0vrUUfVJsYHZ0WuCtBqt9uXmxf1qr2PFX3fzOfKa+cE2LQeHVJUK1I5S6XSqYs25poA/1mPLkBEK1rmpO96/rhoY64J4LEeXYQIVrTOGWGsXt542xkBwqxHXzXXivxycsfqNeNquyJAqPXoi2dakW9O5li9ZGxtVwRY2wR3pQw7CczJGMudxt5x4gL42QR3VUF2wskZNJZb21SctAC+NsFdXICdsHIGjOWWNhYnLUCgTXBX6GMn7Jw+Y7lljcWJCcCxCe4qlZ1Q7GWUnNJWJCUAyya4Aig7od93K5vfH+0yVvIGTUoAtk1wQXa73YuVpXCHrOMkrci6AFFsYk0qxhdSVmRbAKPWY1IPqU9FtgUwbj0mRZCwImsCuGo9uoC2rciWAM5ajy6AbSuy8mQcXf1X9BTaGT2XeaYv2MW2emJOzZkeVbwf9/ysCKAWQv/ncS8mifltWVAS2ViZMwSwgjm4CAQIZmOlBwJYwRxcBAIEs7HSAwGsYEYREAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAABEAAB6wT+AczUIjS1qktrAAAAAElFTkSuQmCC"},"61c0":function(e){e.exports=JSON.parse('[{"mark":"crh_common_get_device_info","name":"getDeviceInfo"},{"mark":"crh_common_get_current_location","name":"getLocation"},{"mark":"crh_common_choose_loaction","name":"chooseLocation"},{"mark":"crh_common_open_loaction_in_map","name":"openLocation"},{"mark":"crh_common_get_current_network_type","name":"getNetworkType"},{"mark":"crh_common_on_network_status_change","name":"onNetworkStatusChange"},{"mark":"crh_common_make_call_phone","name":"makePhoneCall"},{"mark":"crh_common_scan_code","name":"scanCode"},{"mark":"crh_common_scan_code_and_hanlde","name":"scanCodeAndHandle"},{"mark":"crh_common_set_clip_board_data","name":"setClipboardData"},{"mark":"crh_common_get_clip_board_data","name":"getClipboardData"},{"mark":"crh_common_choose_image","name":"chooseImage"},{"mark":"crh_common_preview_image","name":"previewImage"},{"mark":"crh_common_go_back","name":"closeWebApp"},{"mark":"crh_common_go_home","name":"gotoMangoHome"},{"mark":"crh_common_go_2_feedback","name":"openFeedbackPage"},{"mark":"crh_common_go_addressbook","name":"gotoAddressbook"},{"mark":"crh_common_get_current_user_info","name":"getCurrentUserInfo"},{"mark":"crh_common_get_im_user_info","name":"getIMUserInfo"},{"mark":"crh_common_get_app_info","name":"getAppInfo"},{"mark":"crh_common_post_emap_request","name":"postRequestToEMAP"},{"mark":"crh_common_share_content","name":"shareContent"},{"mark":"crh_common_open_file_get","name":"openFileWithGETMethod"},{"mark":"crh_common_open_oa_file_post","name":"openOAFileFromEMAP"},{"mark":"crh_common_update_file_download_progress","name":"onFileDownloadProgressStatusChange"},{"mark":"crh_im_goto_user_detail","name":"openIMUserInfoPage"},{"mark":"crh_im_add_friend","name":"sendAddFirendInvite"},{"mark":"crh_im_chat_with_user","name":"chatWithUser"},{"mark":"crh_common_save_to_system_addressbook","name":"savePhoneToSystemAddressBook"},{"mark":"crh_oa_common_send_submit_success_notification","name":"postApprovalOADocumentSuccessNotification"},{"mark":"crh_common_share_2_co_worker","name":"shareWorker"},{"mark":"crh_common_share_2_3th_system","name":"shareWeChat"},{"mark":"crh_common_get_user_avatar","name":"getUserAvatar"},{"mark":"crh_common_get_current_user_token","name":"getCurrentUserToken"},{"mark":"crh_common_get_current_userid","name":"getCurrentUserId"},{"mark":"crh_common_get_current_appcode","name":"getCurrentAppCode"},{"mark":"crh_oa_common_show_date_picker","name":"showDatePicker"},{"mark":"crh_common_get_im_user_avatar","name":"getPhotoData"},{"mark":"crh_open_userinfo","name":"getOpenUserInfo"},{"mark":"crh_common_goto_coworkers_page","name":"gotoCoworkersPage"},{"mark":"crh_common_open_url_in_new_page","name":"openUrlInNewPage"},{"mark":"crh_discover_red_tip_status_did_changed","name":"discoverRedTipStatsDidChanged"},{"mark":"crh_discover_get_current_coworker_status","name":"discoverGetCurrentCoworkerStatus"},{"mark":"crh_common_storager_keyvalue_set","name":"setStoragerKeyValue"},{"mark":"crh_common_open_ps_file_post","name":"openPSFileFromEMAP"},{"mark":"crh_common_storager_keyvalue_get","name":"getStoragerKeyValue"},{"mark":"crh_im_goto_follow_service_detail","name":"openImFollwServiceDetail"},{"mark":"crh_common_get_file_download_status","name":"getFileDownloadStatus"},{"mark":"crh_common_support_js_api","name":"supportJsApi"},{"mark":"crh_discover_del_bless_status","name":"deleteBlessStatusDid"},{"mark":"crh_usertoken_expire_callback","name":"usertokenExpireCallback"},{"mark":"crh_common_set_anchor","name":"setAnchor"},{"mark":"crh_innertest_download","name":"updateInnerTest"},{"mark":"crh_common_get_current_location","name":"getCurrentLocation"},{"mark":"crh_select_person_mail","name":"selectPersonMail"},{"mark":"crh_open_file_mail","name":"openFileMail"},{"mark":"crh_open_file_mail","name":"openFileMail"},{"mark":"crh_get_system_language","name":"getSystemLanguage"},{"mark":"crh_common_open_native_app","name":"openNativeApp"},{"mark":"crh_common_close_then_open_url_in_new_page","name":"openNewCloseOldWebview"},{"mark":"crh_ssdp_call_post_3_parameter","name":"ssdpCallPost"}]')},6367:function(e,t){e.exports="data:image/png;base64,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"},"64c2":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAYAAADimHc4AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAYKADAAQAAAABAAAAYAAAAACpM19OAAACOklEQVR4Ae3bMU7DQBSE4SSiSUdJzy2QkFJxBk4AF7A7JOhoLNMhjuPL+Bi284Lo0uxoPdZq+SPRRM/j9TcLcmKx2/FCAAEEEEAAAQQQQAABBBBAAAEEEEAAAQQQQAABBBBAAAEEbAJ7W3IhwW3bPi7L8hDLORqWNHRdN+Tk3uQcXPKxgb5vmuZnmqYX1zoPh8MlesjJ/03ICSj12MB/jRJs+Gtdd5UFxJ+du8D/XAvJmVNlAfM8fwXarRNurezqCojd/xS7/3ktIHdOVQX0fX+M3f/tRlszv6oCxnF8i91/vyaQOyv7NjTuNj5i1727F5qSH/gpY0XNVPUbUJRs4mIoIBHKNUYBLtnEXApIhHKNUYBLNjGXAhKhXGMU4JJNzKWARCjXGAW4ZBNzsz8Jx3mGvwcTiaesamyo6mq4GAQ2F8h+KB9fxp1i1Zef//gq4qH8qZRvQ7feATyU31rccD5uQw2oSiQFKFqGWQowoCqRFKBoGWYpwICqRFKAomWYpQADqhJJAYqWYZYCDKhKJAUoWoZZCjCgKpEUoGgZZinAgKpEUoCiZZilAAOqEkkBipZhlgIMqEokBShahlkKMKAqkRSgaBlmKcCAqkRSgKJlmKUAA6oSSQGKlmGWAgyoSiQFKFqGWQowoCqRFKBoGWYpwICqRFKAomWYpQADqhJJAYqWYZYCDKhKJP+mqmhdzw7Xb/EOAggggAACCCCAAAIIIIAAAggggAACCCCAAAIIIIAAAgggUIzAGQ8JRK0FQZAvAAAAAElFTkSuQmCC"},8001:function(e,t,n){},"873a":function(e,t,n){},"95fd":function(e,t){e.exports="data:image/png;base64,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"},"9ed8":function(e,t,n){"use strict";var a=n("016f"),o=n.n(a);o.a},a429:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a,o=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}})},s=[],r=(n("baa5"),n("d3b7"),n("ac1f"),n("5319"),n("841c"),n("2ca0"),n("96cf"),n("9f12")),c=n("53fe"),A=n("8b83"),l=n("c65a"),u=n("c03e"),d=n("9ab4"),m=n("60a3"),p=function(){var e=this,t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"chat-box"},[o("div",{staticClass:"button",class:{collapsed:t.collapsed,closed:!t.collapsed,"has-new":t.hasNew},style:{"background-color":t.color},on:{click:t.toggleChat}}),o("div",{directives:[{name:"show",rawName:"v-show",value:!t.collapsed,expression:"!collapsed"}],staticClass:"wrapper"},[o("div",{staticClass:"header",style:{"background-color":t.color}},[t._v("智能客服")]),o("div",{directives:[{name:"show",rawName:"v-show",value:t.showError,expression:"showError"}],staticClass:"error"},[t._v(t._s(t.errorMsg))]),o("div",{staticClass:"content",attrs:{id:"messageView"}},[!t.noMore&&t.history.length?o("div",{staticClass:"load-more-history",on:{click:function(e){return t.updateHistory()}}},[t.loading?o("span",{staticClass:"loading"}):o("span",[t._v("点击加载更多聊天记录")])]):t.history.length?o("div",{staticClass:"load-more-history",staticStyle:{color:"#999",cursor:"default"}},[t._v(" 没有更多了 ")]):t._e(),t._l(t.historyList,(function(e){return o("div",{key:e.msg_id,staticClass:"message-row",class:{self:"B"===e.speaker}},["A"===e.speaker?o("div",{staticClass:"avatar"},[e.avatar?o("img",{attrs:{src:e.avatar,alt:"avatar"}}):o("img",{attrs:{src:n("3a5a"),alt:"avatar"}})]):t._e(),o("div",{staticClass:"message"},[o("div",{staticClass:"time"},[t._v(t._s(e.formatTime))]),o("div",{staticClass:"msg-content",style:"B"===e.speaker?"background-color:"+t.color:""},["image"===e.msgType?[o("img",{staticStyle:{height:"100%",width:"100%",overflow:"hidden"},attrs:{src:e.content}})]:"file"===e.msgType?[o("a",{attrs:{href:e.content}},[t._v(t._s(e.filename))])]:o("span",{style:"B"===e.speaker?"color:white":"",domProps:{innerHTML:t._s(e.content.replace(/\n/g,"<br />"))}}),"A"===e.speaker?o("div",{staticClass:"dislike",on:{click:function(n){return t.dislike(e)}}},[o("div",{staticClass:"icon dislike-icon",class:{active:4===e.satisfaction}})]):t._e()],2)])])})),t.history.length?o("div",{staticClass:"history-tip"},[t._v("以上为历史消息")]):t._e(),t._l(t.messageList,(function(e){return o("div",{key:e.msg_id,staticClass:"message-row",class:{self:"B"===e.speaker}},["A"===e.speaker?o("div",{staticClass:"avatar"},[e.avatar?o("img",{attrs:{src:e.avatar,alt:"avatar"}}):o("img",{attrs:{src:n("3a5a"),alt:"avatar"}})]):t._e(),o("div",{staticClass:"message"},[o("div",{staticClass:"time"},[t._v(t._s(e.formatTime))]),o("div",{staticClass:"msg-content",style:"B"===e.speaker?"background-color:"+t.color:""},["image"===e.msgType?[o("img",{staticStyle:{height:"100%",width:"100%",overflow:"hidden"},attrs:{src:e.content}})]:"file"===e.msgType?[o("a",{staticStyle:{color:"white"},attrs:{href:e.content}},[t._v(t._s(e.filename||e.content))])]:o("span",{style:"B"===e.speaker?"color:white":"",domProps:{innerHTML:t._s(e.content.replace(/\n/g,"<br />"))}}),e.isRecommend&&t.recommend.length?o("div",{staticClass:"recommend-wrap"},t._l(t.recommend,(function(e,n){return o("div",{key:n},[o("span",{on:{click:function(n){return t.sendMessage("text",e)}}},[t._v(t._s(n+1)+"、"+t._s(e))])])})),0):t._e(),"A"===e.speaker?o("div",{staticClass:"dislike",on:{click:function(n){return t.dislike(e)}}},[o("div",{staticClass:"icon dislike-icon",class:{active:4===e.satisfaction}})]):t._e()],2)])])})),t.showHangup?o("div",{staticClass:"hangup"},[o("div",{staticClass:"title"},[t._v("请您对本次服务做出评价：")]),o("div",{staticClass:"buttons"},[o("div",{staticClass:"group"},[o("div",{staticClass:"icon wrong-icon",class:{active:!1===t.satisfied},on:{click:function(e){return t.hangup(!1)}}}),o("div",[t._v("不满意")])]),o("div",{staticClass:"group"},[o("div",{staticClass:"icon right-icon",class:{active:!0===t.satisfied},on:{click:function(e){return t.hangup(!0)}}}),o("div",[t._v("满意")])])])]):t._e(),null!==t.satisfied?o("div",{staticClass:"hangup"},[o("small",[t._v("感谢您的评价")])]):t._e()],2),o("div",{staticClass:"toolbar"},[o("emoji-picker",{on:{pick:t.pickEmoji}})],1),o("div",{staticClass:"user-input"},[t.tips.length?o("div",{staticClass:"input-tip-wrap"},t._l(t.tips,(function(e,n){return o("div",{key:n,staticClass:"input-tip",on:{click:function(n){return t.selectTip(e)}}},[t._v(" "+t._s(e)+" ")])})),0):t._e(),o("textarea",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],ref:"textarea",staticStyle:{height:"39px"},attrs:{type:"text",rows:"1",spellcheck:"false",maxlength:"1000",placeholder:"很高兴为您服务，请反馈您的问题"},domProps:{value:t.content},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:void e.preventDefault()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.sendMessage("text")},input:[function(e){e.target.composing||(t.content=e.target.value)},function(e){return t.handleInput(!0,e)}]}}),t.sending?o("div",{staticClass:"send",style:{color:"#999"}},[t._v(" 发送中 ")]):""!==t.content?o("div",{staticClass:"send",on:{click:function(e){return t.sendMessage("text")}}},[t._v("发送")]):""===t.content?o("button",{staticClass:"attach-button",on:{click:function(){return e.$refs.upload.click()}}},[o("svg",{attrs:{height:"20",width:"20",viewBox:"128 128 256 256"}},[o("g",[o("path",{attrs:{d:"M384,265H264v119h-17V265H128v-17h119V128h17v120h120V265z"}})])])]):t._e()])]),o("input",{ref:"upload",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:t.uploadFile}})])},f=[],g=(n("99af"),n("a623"),n("4de4"),n("d81d"),n("0d03"),n("b0c0"),n("8a79"),n("5a0c")),h=n.n(g),v=n("8055"),k=n.n(v),_=(n("1276"),n("bc3a")),w=n.n(_),C=n("11c1"),y=n.n(C);function b(){return Object({NODE_ENV:"production",BASE_URL:"/"}).baseURL?Object({NODE_ENV:"production",BASE_URL:"/"}).baseURL:""}var B=w.a.create({withCredentials:!1,baseURL:b(),timeout:6e4});function E(e){return B.post("/api/dialogue/connect",e)}function S(e){return B.post("/api/dialogue/dialogue",e)}function j(e){return B.get("/api/dialogue/history-dialogue",{params:e})}function x(e){return B.get("/api/dialogue/prompt",{params:e})}function I(e){return B.get("/api/dialogue/recommend",{params:e})}function Q(e){return B.get("/verify-token",{params:e})}function R(e){return B.post("/api/dialogue/update-socket-id",e)}function O(e){return B.post("/api/dialogue/send-message",e)}function U(e){return B.post("/api/dialogue/oss-media",{session_id:e})}function T(e){return regeneratorRuntime.async((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t,n){U(e).then((function(e){D(e,(function(){a=e.data.data,t()}),(function(){n()}))}))})));case 1:case"end":return t.stop()}}))}function N(e,t){return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:return n.abrupt("return",new Promise((function(n,a){B.post(t,e).then((function(e){D(e,(function(){n(e.data.data)}),(function(){a(e.data.msg)}))}))})));case 1:case"end":return n.stop()}}))}function M(e){return B.post("/api/dialogue/sentence-satisfaction",e)}function K(e){return B.post("/api/dialogue/session-satisfaction",e)}function H(e,t){var n,o,i;return regeneratorRuntime.async((function(s){while(1)switch(s.prev=s.next){case 0:if(a&&!(+a.expire<(new Date).getTime()/1e3+3)){s.next=3;break}return s.next=3,regeneratorRuntime.awrap(T(t));case 3:return n=new FormData,o=e.name.split(".")[e.name.split(".").length-1],i="".concat(y.a.v4(),".").concat(o),n.append("key","".concat(a.dir).concat(i)),n.append("policy",a.policy),n.append("OSSAccessKeyId",a.accessid),n.append("success_action_status","200"),n.append("callback",a.callback),n.append("signature",a.signature),n.append("name",i),n.append("file",e,i),s.abrupt("return",N(n,a.host));case 15:case"end":return s.stop()}}))}function D(e,t,n){0==e.data.code?t():n?n():console.error(e.data.msg)}var G=function e(t){var n=this;Object(r["a"])(this,e),this.connecting=!1,this.timer=null,this.getSocket=function(){return n.socket},this.init=function(e){n.connecting=!0,n.socket=k.a.connect(b()),n.socket.on("connect",(function(){var t,a;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:if(n.socket.on("update_sessions",(function(){e.updateSession()})),n.socket.on("message",(function(t){var n=t.session_id;e.updateDialog(n)})),n.socket.on("disconnect",(function(){n.connecting||(n.socket?(n.connecting=!0,n.socket.connect(b())):n.init(e))})),n.socket.on("hangup",(function(t){t.satisfaction.is_open&&e.hangup()})),!n.socket.id){o.next=15;break}if(t=e.getSessionId(),!t){o.next=11;break}return o.next=9,regeneratorRuntime.awrap(R({session_id:t,socket_id:n.socket.id,app_id:e.app_id}));case 9:o.next=15;break;case 11:return o.next=13,regeneratorRuntime.awrap(E({call_number:e.call_number,appellation:e.appellation,socket_id:n.socket.id,app_id:e.app_id,source:e.source,bot_number:e.bot_number,previewParams:e.previewParams}));case 13:a=o.sent,D(a,(function(){e.updateSession(a.data.data.session_id)}),(function(){e.error(a.data.msg)}));case 15:n.connecting=!1;case 16:case"end":return o.stop()}}))}))},this.init(t)},F=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[e._l(e.message,(function(t,o){return[t.showTime?a("div",{key:"time"+t.msg_id,staticClass:"time-row"},[a("span",{staticClass:"time-tip"},[e._v(e._s(t.formatTime))])]):e._e(),a("div",{key:"message"+t.msg_id,staticClass:"message-row",class:{self:"B"===t.speaker}},[a("div",{staticClass:"avatar"},[t.avatar?a("img",{attrs:{src:t.avatar,alt:"avatar"}}):a("img",{attrs:{src:n("2336"),alt:"avatar"}})]),a("div",{staticClass:"message"},[a("div",{staticClass:"msg-content"},["image"===t.msgType?[a("img",{staticStyle:{height:"100%",width:"100%",overflow:"hidden"},attrs:{src:t.content}})]:"file"===t.msgType?[a("a",{style:"B"===t.speaker?"color:white":"",attrs:{href:t.content}},[e._v(" "+e._s(t.filename||t.content)+" ")])]:a("span",{domProps:{innerHTML:e._s(t.content.replace(/\n/g,"<br />"))}})],2),"A"===t.speaker?a("div",{staticClass:"comment-wrap"},[a("img",{staticClass:"icon dislike-icon",attrs:{src:t.zan?n("95fd"):n("021a"),alt:"dislike"},on:{click:function(t){return e.$emit("like",o)}}}),a("img",{staticClass:"icon dislike-icon",attrs:{src:4===t.satisfaction?n("0bd0"):n("af1c"),alt:"dislike"},on:{click:function(n){return e.$emit("dislike",t)}}})]):e._e()])])]}))],2)},P=[],V=function(e){function t(){return Object(r["a"])(this,t),Object(A["a"])(this,Object(l["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),t}(m["c"]);d["a"]([Object(m["b"])()],V.prototype,"message",void 0),d["a"]([Object(m["b"])()],V.prototype,"color",void 0),V=d["a"]([m["a"]],V);var Y=V,X=Y,W=(n("4276"),n("2877")),J=Object(W["a"])(X,F,P,!1,null,"0f27663a",null),q=J.exports,z=function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(A["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.messages=[],e.content="",e.collapsed=!0,e.socket=null,e.sessionId=0,e.showError=!1,e.errorMsg="",e.showHangup=!1,e.satisfied=null,e.firstHangup=!0,e.sending=!1,e.last_call_id="",e.history=[],e.loading=!1,e.noMore=!1,e.hasNew=!1,e.tips=[],e.recommend=[],e}return Object(u["a"])(t,e),Object(c["a"])(t,[{key:"handleMessage",value:function(e){var t=this,n=h()().format("yyyy-MM-DD");return e.map((function(a,o){var i=h()(a.timestamp).format("yyyy-MM-DD")===n;if(a.formatTime=i?h()(a.timestamp).format("HH:mm:ss"):a.timestamp,0===o)a.showTime=!0;else{var s=h()(a.timestamp).diff(h()(e[o-1].timestamp),"minute");s>=3&&(a.showTime=!0)}return"A"===a.speaker&&(a.nickname=t.robotName||"机器人"),"B"===a.speaker&&(a.avatar=t.avatar||"",a.nickname=t.username||"用户"),a}))}},{key:"pickEmoji",value:function(e){this.content+=e}},{key:"toggleChat",value:function(){var e=this;this.collapsed=!this.collapsed,this.collapsed||(this.hasNew=!1),this.sessionId||(this.socket=new G({app_id:this.app_id,call_number:this.call_number,appellation:this.appellation,bot_number:this.bot_number,previewParams:this.previewParams,updateSession:this.updateSession,updateDialog:function(t){e.collapsed&&(e.hasNew=!0),e.updateDialog(t)},getSessionId:this.getSessionId,error:this.popError,source:this.source,hangup:this.popHangup}).getSocket(),this.updateHistory(!0))}},{key:"selectTip",value:function(e){this.content=e,this.handleInput(!1),this.tips=[]}},{key:"handleInput",value:function(){var e,t,n,a,o,i=this,s=arguments;return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:if(e=!(s.length>0&&void 0!==s[0])||s[0],t=s.length>1&&void 0!==s[1]?s[1]:void 0,n=this.$refs.textarea,n.style.height="auto",n.style.height=(n.scrollHeight>300?300:n.scrollHeight)+"px",this.content){r.next=9;break}this.tips=[],r.next=15;break;case 9:if(!e||t.isTrusted&&t.isComposing||!this.sessionId){r.next=15;break}return a={app_id:this.app_id,session_id:this.sessionId,content:this.content},r.next=13,regeneratorRuntime.awrap(x(a));case 13:o=r.sent,D(o,(function(){i.tips=o.data.data.list.filter((function(e,t){return t<5}))}));case 15:case"end":return r.stop()}}),null,this)}},{key:"getSessionId",value:function(){return this.sessionId}},{key:"updateSession",value:function(e){this.sessionId=e,this.updateDialog(e)}},{key:"sendMessage",value:function(e,t,n){var a=this;if(!this.sending)if(this.disconnected)this.popError("连接失败");else if(""!==this.content||t){var o={session_id:this.sessionId,message:t||this.content,app_id:this.app_id,msgType:e,filename:n};this.sending=!0,this.messages.push({avatar:null,content:o.message,filename:null,msgType:"voice",msg_id:"user",nickname:null,satisfaction:null,speaker:"B",timestamp:h()(new Date).format("YYYY-MM-DD HH:mm:ss")}),this.content="",this.scrollBottom(),O(o).then((function(e){D(e,(function(){a.updateDialog(o.session_id)}),(function(){a.popError(e.data.msg),a.sending=!1}))})).catch((function(e){a.popError("请求超时，请重试"),a.sending=!1}))}}},{key:"updateDialog",value:function(e){var t,n=this;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,regeneratorRuntime.awrap(S({session_id:e,app_id:this.app_id}));case 3:t=a.sent,D(t,(function(){var e,a;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:if("pc"!==n.type){o.next=12;break}e=t.data.data.dialogue.length-1;case 2:if(!(e>=0)){o.next=12;break}if(a=t.data.data.dialogue[e],"A"!==a.speaker){o.next=9;break}return a.isRecommend=!0,o.next=8,regeneratorRuntime.awrap(n.getRecommend(a.msg_id));case 8:return o.abrupt("break",12);case 9:e--,o.next=2;break;case 12:n.messages=t.data.data.dialogue,n.scrollBottom(),n.sending=!1;case 15:case"end":return o.stop()}}))})),a.next=11;break;case 7:a.prev=7,a.t0=a["catch"](0),this.popError("请求超时，请重试"),this.sending=!1;case 11:case"end":return a.stop()}}),null,this,[[0,7]])}},{key:"getRecommend",value:function(e){var t,n,a=this;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return t={app_id:this.app_id,session_id:this.sessionId,msg_id:e},o.next=3,regeneratorRuntime.awrap(I(t));case 3:n=o.sent,D(n,(function(){n.data.data&&n.data.data.list?a.recommend=n.data.data.list:a.recommend=[]}),(function(){a.recommend=[]}));case 5:case"end":return o.stop()}}),null,this)}},{key:"onScroll",value:function(e){0===e.target.scrollTop&&this.updateHistory()}},{key:"updateHistory",value:function(){var e,t,n=this,a=arguments;return regeneratorRuntime.async((function(o){while(1)switch(o.prev=o.next){case 0:return e=a.length>0&&void 0!==a[0]&&a[0],o.prev=1,this.loading=!0,o.next=5,regeneratorRuntime.awrap(j({app_id:this.app_id,call_number:this.call_number,last_call_id:this.last_call_id}));case 5:t=o.sent,D(t,(function(){t.data.data=t.data.data||{};var a=t.data.data,o=a.call_id,i=a.dialogues;if(n.last_call_id=o,i&&0!==i.length){if(o||(n.noMore=!0),n.history=i.concat(n.history),n.loading=!1,e?n.scrollBottom():n.keepPosition(),"mobile"==n.type){var s=document.querySelector("#messageView");n.$nextTick((function(){s.scrollHeight<=s.clientHeight&&!n.noMore&&n.updateHistory(e)}))}}else o?n.updateHistory(e):n.loading=!1})),o.next=13;break;case 9:o.prev=9,o.t0=o["catch"](1),this.popError("请求超时，请重试"),this.loading=!1;case 13:case"end":return o.stop()}}),null,this,[[1,9]])}},{key:"keepPosition",value:function(){var e=document.querySelector("#messageView"),t=e.scrollHeight;this.$nextTick((function(){e.scrollTop=e.scrollHeight-t}))}},{key:"scrollBottom",value:function(){var e=document.querySelector("#messageView");this.$nextTick((function(){e.scrollTop=e.scrollHeight}))}},{key:"popError",value:function(e){var t=this;this.errorMsg=e,this.showError=!0,setTimeout((function(){t.showError=!1}),2e3)}},{key:"uploadFile",value:function(e){var t,n,a,o,i,s,r,c=this;return regeneratorRuntime.async((function(A){while(1)switch(A.prev=A.next){case 0:if(t=e.target.files[0],n=8388608,a=["jpg","jpeg","png","gif","pdf","doc","docx","xls","xlsx","xlsm","ppt","pptx"],!this.disconnected){A.next=7;break}this.popError("连接失败"),A.next=22;break;case 7:if(!(t.size>n)){A.next=11;break}this.popError("发送的文件大小不能超过8M"),A.next=22;break;case 11:if(!a.every((function(e){return!t.name.toLowerCase().endsWith(e)}))){A.next=15;break}this.popError("请发送jpg/png/gif/pdf/word/excel/ppt格式文件"),A.next=22;break;case 15:if(!t){A.next=22;break}return o=new FormData,o.append("file",t),A.next=20,regeneratorRuntime.awrap(H(t,this.sessionId).catch((function(e){return c.popError(e)})));case 20:i=A.sent,void 0!==i&&(s=i.url,r=i.file_type,this.sendMessage(r,s,t.name));case 22:this.$refs.upload.value=null;case 23:case"end":return A.stop()}}),null,this)}},{key:"dislike",value:function(e){var t=this,n=e.msg_id,a=e.satisfaction;if(4!==a){var o={session_id:this.sessionId,msg_id:n,satisfaction:4,app_id:this.app_id};M(o).then((function(e){D(e,(function(){t.updateDialog(t.sessionId)}),(function(){t.popError(e.data.msg)}))}))}}},{key:"popHangup",value:function(){this.showHangup=!0}},{key:"hangup",value:function(e){var t=this;if(this.firstHangup){var n={session_id:this.sessionId,app_id:this.app_id,score:e?80:50};K(n).then((function(n){D(n,(function(){t.satisfied=e,t.firstHangup=!1,t.scrollBottom()}),(function(){t.popError(n.data.msg)}))}))}}},{key:"messageList",get:function(){return this.handleMessage(this.messages)}},{key:"historyList",get:function(){return this.handleMessage(this.history)}},{key:"disconnected",get:function(){return 0===this.sessionId}}]),t}(m["c"]);d["a"]([Object(m["b"])()],z.prototype,"app_id",void 0),d["a"]([Object(m["b"])()],z.prototype,"call_number",void 0),d["a"]([Object(m["b"])()],z.prototype,"appellation",void 0),d["a"]([Object(m["b"])()],z.prototype,"source",void 0),d["a"]([Object(m["b"])()],z.prototype,"bot_number",void 0),d["a"]([Object(m["b"])()],z.prototype,"previewParams",void 0),d["a"]([Object(m["b"])({default:"#0785f2"})],z.prototype,"color",void 0),d["a"]([Object(m["b"])({default:"pc"})],z.prototype,"type",void 0),d["a"]([Object(m["b"])()],z.prototype,"username",void 0),d["a"]([Object(m["b"])()],z.prototype,"robotName",void 0),d["a"]([Object(m["b"])()],z.prototype,"avatar",void 0),z=d["a"]([Object(m["a"])({components:{messageRow:q}})],z);var L=z,Z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("emoji",{on:{emoji:e.pick},scopedSlots:e._u([{key:"emoji-invoker",fn:function(e){var t=e.events.click;return n("div",{staticClass:"emoji-invoker",on:{click:function(e){return e.stopPropagation(),t(e)}}},[n("svg",{attrs:{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"}})])])}},{key:"emoji-picker",fn:function(t){var a=t.emojis,o=t.insert;return n("div",{},[n("div",{staticClass:"emoji-picker"},e._l(a,(function(t,a){return n("div",{key:a},["Frequently used"!==a?n("div",{staticClass:"emojis"},e._l(t,(function(t,a){return n("span",{key:a,attrs:{title:a},on:{click:function(e){return o(t)}}},[e._v(e._s(t))])})),0):e._e()])})),0)])}}])})},$=[],ee=n("669f"),te=n.n(ee),ne=function(e){function t(){return Object(r["a"])(this,t),Object(A["a"])(this,Object(l["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),Object(c["a"])(t,[{key:"pick",value:function(e){this.$emit("pick",e)}}]),t}(m["c"]);ne=d["a"]([Object(m["a"])({components:{emoji:te.a}})],ne);var ae=ne,oe=ae,ie=(n("b3c3"),Object(W["a"])(oe,Z,$,!1,null,"510583f7",null)),se=ie.exports,re=function(e){function t(){return Object(r["a"])(this,t),Object(A["a"])(this,Object(l["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),t}(m["c"]);re=d["a"]([Object(m["a"])({components:{"emoji-picker":se},mixins:[L]})],re);var ce=re,Ae=ce,le=(n("9ed8"),Object(W["a"])(Ae,p,f,!1,null,"4741a780",null)),ue=le.exports,de=function(){var e=this,t=this,a=t.$createElement,o=t._self._c||a;return o("div",{staticClass:"chat-box"},[o("div",{staticClass:"wrapper",on:{click:t.resetBox}},[t._m(0),o("div",{directives:[{name:"show",rawName:"v-show",value:t.showError,expression:"showError"}],staticClass:"error"},[t._v(t._s(t.errorMsg))]),o("div",{staticClass:"content",attrs:{id:"messageView"},on:{scroll:t.onScroll}},[t.history.length?[t.noMore?o("div",{staticClass:"load-more-history no-more"},[t._v(" 没有更多了 ")]):t.loading?o("div",{staticClass:"load-more-history"},[o("span",{staticClass:"loading"})]):t._e()]:t._e(),o("message-row",{attrs:{message:t.historyList,color:t.color},on:{like:function(e){return t.$set(t.history[e],"zan",!t.history[e].zan)},dislike:t.dislike}}),t.history.length?o("div",{staticClass:"history-tip"},[t._v("以上为历史消息")]):t._e(),o("message-row",{attrs:{message:t.messageList,color:t.color},on:{like:function(e){return t.$set(t.messages[e],"zan",!t.messages[e].zan)},dislike:t.dislike}}),t.showHangup?o("div",{staticClass:"hangup"},[o("div",{staticClass:"title"},[t._v("请您对本次服务做出评价：")]),o("div",{staticClass:"buttons"},[o("div",{staticClass:"group"},[o("div",{staticClass:"icon wrong-icon",class:{active:!1===t.satisfied},on:{click:function(e){return t.hangup(!1)}}}),o("div",[t._v("不满意")])]),o("div",{staticClass:"group"},[o("div",{staticClass:"icon right-icon",class:{active:!0===t.satisfied},on:{click:function(e){return t.hangup(!0)}}}),o("div",[t._v("满意")])])])]):t._e(),null!==t.satisfied?o("div",{staticClass:"hangup"},[o("small",[t._v("感谢您的评价")])]):t._e()],2),o("div",{staticClass:"footer"},[o("div",{staticClass:"user-input"},[o("img",{staticClass:"voice",attrs:{src:n("6367"),alt:"voice-icon"},on:{click:function(e){t.onoff.isVoice=!t.onoff.isVoice}}}),t.onoff.isVoice?o("div",{staticClass:"voice-btn",on:{click:t.onRecord}},[t._v(" "+t._s(t.onoff.taping?"再次点击结束录音":"点击开始录音")+" ")]):o("input",{directives:[{name:"model",rawName:"v-model",value:t.content,expression:"content"}],ref:"textarea",attrs:{type:"text",placeholder:"很高兴为您服务，请反馈您的问题",maxlength:"1000"},domProps:{value:t.content},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:void e.preventDefault()},keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.ctrlKey||e.shiftKey||e.altKey||e.metaKey?null:t.sendMessage("text")},blur:t.onBlur,focus:t.onFocus,input:function(e){e.target.composing||(t.content=e.target.value)}}}),o("img",{staticClass:"emoji",attrs:{src:n("2bb8"),alt:"emoji-icon"},on:{click:function(e){return e.stopPropagation(),t.showEmoji(e)}}}),""!==t.content?o("div",{staticClass:"send",on:{click:function(e){return t.sendMessage("text")}}},[t._v(" 发送 ")]):""===t.content?o("img",{staticClass:"attach",attrs:{src:n("b0f0"),alt:"attacj-icon"},on:{click:function(e){return e.stopPropagation(),t.showFunctionBox(e)}}}):t._e()]),t.onoff.functionBox?o("div",{staticClass:"function-box",on:{click:function(e){e.stopPropagation()}}},[o("div",{staticClass:"function-item",on:{click:function(){return e.$refs.upload.click()}}},[t._m(1),o("span",[t._v("图片")])]),t._m(2)]):t._e(),t.onoff.emoji?o("div",{staticClass:"function-box emoji-box",on:{click:function(e){e.stopPropagation()}}},[o("emoji-picker",{ref:"emoji",on:{pick:t.pickEmoji}})],1):t._e()])]),o("input",{ref:"upload",staticStyle:{display:"none"},attrs:{type:"file"},on:{change:t.uploadFile}})])},me=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"header"},[n("span",[e._v("智能客服")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"function-icon"},[a("img",{attrs:{src:n("6078"),alt:"photo-icon"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"function-item"},[a("div",{staticClass:"function-icon"},[a("img",{attrs:{src:n("64c2"),alt:"photo-icon"}})]),a("span",[e._v("附件")])])}],pe=(n("ace4"),n("466d"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a9"),n("72f7"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("emoji",{on:{emoji:e.pick},scopedSlots:e._u([{key:"emoji-invoker",fn:function(e){var t=e.events.click;return n("div",{ref:"emoji-btn",staticClass:"emoji-invoker",on:{click:function(e){return e.stopPropagation(),t(e)}}},[n("svg",{attrs:{height:"24",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M0 0h24v24H0z",fill:"none"}}),n("path",{attrs:{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"}})])])}},{key:"emoji-picker",fn:function(t){var a=t.emojis,o=t.insert;return n("div",{},[n("div",{staticClass:"emoji-picker"},[n("div",{staticClass:"emoji-group"},[e._l(a,(function(t,a){return["Frequently used"!==a?e._l(t,(function(t,a){return n("div",{key:a,staticClass:"emojis",attrs:{title:a},on:{click:function(e){return o(t)}}},[e._v(" "+e._s(t)+" ")])})):e._e()]}))],2)])])}}])})}),fe=[],ge=function(e){function t(){return Object(r["a"])(this,t),Object(A["a"])(this,Object(l["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),Object(c["a"])(t,[{key:"pick",value:function(e){this.$emit("pick",e)}},{key:"open",value:function(){this.$refs["emoji-btn"].click()}}]),t}(m["c"]);ge=d["a"]([Object(m["a"])({components:{emoji:te.a}})],ge);var he=ge,ve=he,ke=(n("dc45"),Object(W["a"])(ve,pe,fe,!1,null,"9d7d3a44",null)),_e=ke.exports,we=n("e2cc1"),Ce=n.n(we),ye=(n("68d3"),n("c51a"),function(e){function t(){var e;return Object(r["a"])(this,t),e=Object(A["a"])(this,Object(l["a"])(t).apply(this,arguments)),e.onoff={functionBox:!1,emoji:!1,isVoice:!1,taping:!1,voiceVaild:!1},e.rec=null,e.voiceSocket=null,e.voiceSessionId="",e.voiceInterval=null,e}return Object(u["a"])(t,e),Object(c["a"])(t,[{key:"mounted",value:function(){this.toggleChat(),this.initRecorder()}},{key:"initRecorder",value:function(){var e=this;this.rec=Ce()({type:"mp3",sampleRate:16e3,bitRate:16,onProcess:function(t,n,a,o,i,s){console.log(t),console.log(i),e.voiceSocket.emit("voice2text",{sessionId:e.voiceSessionId,buff:String.fromCharCode(new Uint8Array(t[i])),end:!1})}}),this.rec.open((function(){console.log("成功开启录音"),e.initVoiceSocket(),e.onoff.voiceVaild=!0}),(function(e,t){console.log((t?"UserNotAllow，":"")+"无法录音:"+e)}))}},{key:"initVoiceSocket",value:function(){var e=this,t="wss://10.4.98.133:20009";this.voiceSocket=k()(t,{transports:["websocket"]}),this.voiceSocket.on("connect",(function(t){console.log("connect",t),t&&t.sessionId&&(e.voiceSessionId=t.sessionId)})),this.voiceSocket.on("disconnect",(function(){e.voiceSocket.connect(t),console.log("断开连接")})),this.voiceSocket.on("voice2text",(function(t){console.log("data: ",t),e.content+=t.text}))}},{key:"onRecord",value:function(){var e=this;if(this.onoff.voiceVaild)if(this.onoff.taping=!this.onoff.taping,this.onoff.taping){this.rec.start();var t=this;clearInterval(t.voiceInterval),this.voiceInterval=setInterval(function(){var e=1;return function(){e++,e>=20&&(clearInterval(t.voiceInterval),t.onRecord())}}(),1e3)}else clearInterval(this.voiceInterval),this.rec.stop((function(){e.voiceSocket.emit("voice2text",{sessionId:e.voiceSessionId,end:!0}),e.sendMessage()}));else this.popError("无法录音，请检查设备和权限")}},{key:"resetBox",value:function(){this.onoff.functionBox=!1,this.onoff.emoji=!1}},{key:"onFocus",value:function(e){var t=navigator.userAgent;navigator.appVersion,t.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);setTimeout((function(){var e=document.querySelector(".content"),t=document.querySelector(".wrapper");t.style.position="fixed",e.scrollTop=e.scrollHeight,document.body.scrollTop=document.body.scrollHeight}),300)}},{key:"onBlur",value:function(){setTimeout((function(){var e=navigator.userAgent,t=(navigator.appVersion,e.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),document.querySelector(".wrapper"));t.style.position="absolute";var n=document.documentElement.scrollTop||document.body.scrollTop||0;window.scrollTo(0,Math.max(n-1,0))}),300)}},{key:"showFunctionBox",value:function(){this.onoff.functionBox=!0,this.onoff.emoji=!1,this.onoff.isVoice=!1}},{key:"showEmoji",value:function(){var e=this;this.onoff.emoji?this.resetBox():(this.onoff.functionBox=!1,this.onoff.emoji=!0,this.onoff.isVoice=!1,this.$nextTick((function(){e.$refs.emoji.open()})))}}]),t}(m["c"]));ye=d["a"]([Object(m["a"])({components:{EmojiPicker:_e},mixins:[L]})],ye);var be,Be=ye,Ee=Be,Se=(n("4123"),Object(W["a"])(Ee,de,me,!1,null,"6725e747",null)),je=Se.exports,xe=function e(t){Object(r["a"])(this,e);var n=document.createElement("div");document.body.appendChild(n);var a={pc:ue,mobile:je}[t.type||"pc"]||ue;new o["a"]({render:function(e){return e(a,{props:t})}}).$mount(n)},Ie=n("61c0"),Qe=n("c302"),Re="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Oe=new Array(-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1),Ue=function(e){var t,n,a,o,i,s;a=e.length,n=0,t="";while(n<a){if(o=255&e.charCodeAt(n++),n==a){t+=Re.charAt(o>>2),t+=Re.charAt((3&o)<<4),t+="==";break}if(i=e.charCodeAt(n++),n==a){t+=Re.charAt(o>>2),t+=Re.charAt((3&o)<<4|(240&i)>>4),t+=Re.charAt((15&i)<<2),t+="=";break}s=e.charCodeAt(n++),t+=Re.charAt(o>>2),t+=Re.charAt((3&o)<<4|(240&i)>>4),t+=Re.charAt((15&i)<<2|(192&s)>>6),t+=Re.charAt(63&s)}return t},Te=function(e){var t,n,a,o,i,s,r;s=e.length,i=0,r="";while(i<s){do{t=Oe[255&e.charCodeAt(i++)]}while(i<s&&-1==t);if(-1==t)break;do{n=Oe[255&e.charCodeAt(i++)]}while(i<s&&-1==n);if(-1==n)break;r+=String.fromCharCode(t<<2|(48&n)>>4);do{if(a=255&e.charCodeAt(i++),61==a)return r;a=Oe[a]}while(i<s&&-1==a);if(-1==a)break;r+=String.fromCharCode((15&n)<<4|(60&a)>>2);do{if(o=255&e.charCodeAt(i++),61==o)return r;o=Oe[o]}while(i<s&&-1==o);if(-1==o)break;r+=String.fromCharCode((3&a)<<6|o)}return r},Ne=function(e){var t,n,a,o;for(t="",a=e.length,n=0;n<a;n++)o=e.charCodeAt(n),o>=1&&o<=127?t+=e.charAt(n):o>2047?(t+=String.fromCharCode(224|o>>12&15),t+=String.fromCharCode(128|o>>6&63),t+=String.fromCharCode(128|o>>0&63)):(t+=String.fromCharCode(192|o>>6&31),t+=String.fromCharCode(128|o>>0&63));return t},Me=function(e){var t,n,a,o,i,s;t="",a=e.length,n=0;while(n<a)switch(o=e.charCodeAt(n++),o>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:t+=e.charAt(n-1);break;case 12:case 13:i=e.charCodeAt(n++),t+=String.fromCharCode((31&o)<<6|63&i);break;case 14:i=e.charCodeAt(n++),s=e.charCodeAt(n++),t+=String.fromCharCode((15&o)<<12|(63&i)<<6|(63&s)<<0)}return t},Ke={encode:function(e){return Ue(Ne(e))},decode:function(e){return Me(Te(e))}};navigator.userAgent.match(/android/i)&&(be=function(e){window.WebViewJavascriptBridge?e(WebViewJavascriptBridge):window.document.addEventListener("WebViewJavascriptBridgeReady",(function(){e(WebViewJavascriptBridge)}),!1)},be((function(e){e.init((function(e,t){t(data)}))}))),navigator.userAgent.match(/ip(ad|hone)/i)&&(be=function e(t){if(window.WebViewJavascriptBridge)return t(WebViewJavascriptBridge);if(window.WVJBCallbacks)return window.WVJBCallbacks.push(t);window.WVJBCallbacks=[t];var n=window.document.createElement("iframe");n.style.display="none",n.src="wvjbscheme://__BRIDGE_LOADED__",window.document.documentElement.appendChild(n),setTimeout((function(){window.document.documentElement.removeChild(n)}),0),e((function(e){}))}),window.crh={handles:[],$on:function(e,t){"function"===typeof t&&this.handles.push({name:e,callbackHandle:t})},$off:function(e,t){let n=this.handles.findIndex(n=>{return n.name==e&&n.callbackHandle===t});~n&&this.handles.splice(n,1)},$emit:function(e,...t){this.handles.map(n=>{n.name===e&&n.callbackHandle(...t)})}},window.crhReady=function(e){be((function(t){for(let e of Ie)crh[e.name]=n=>{t.callHandler(e.mark,n&&n.param?n.param:{},(function(e){switch(e=JSON.parse(e),console.log(e),e.returnCode){case"Y":n.success(JSON.parse(Ke.decode(e.returnData)));break;case"N":n.fail&&n.fail(e);break;case"C":n.cancel&&n.cancel();break}n.complete&&n.complete()}))};for(let e of Qe)t.registerHandler(e.mark,(function(t,n){crh.$emit(e.name,t)}));e&&e()}))};var He=function(e){function t(){return Object(r["a"])(this,t),Object(A["a"])(this,Object(l["a"])(t).apply(this,arguments))}return Object(u["a"])(t,e),Object(c["a"])(t,[{key:"mounted",value:function(){var e,t,n,a,o=this;return regeneratorRuntime.async((function(i){while(1)switch(i.prev=i.next){case 0:if(e=this.getQueryObject(),t={call_number:e.call_number||e["x_userid"]||"18888888888",appellation:e.appellation||"1",app_id:e.app_id||"test",source:+e.source||1,bot_number:e.bot_number||"10086002",type:e.type||"mobile"},e.color&&(t.color=e.color),n=this.getPreviewParams(e),"crc"!=e.channel){i.next=11;break}return i.next=7,regeneratorRuntime.awrap(Q({userid:e["x_userid"],usertoken:e["x_usertoken"]}));case 7:if(a=i.sent,0!==a.data.code){i.next=11;break}return window.crhReady((function(){window.crh.getCurrentUserInfo({success:function(e){for(var a in n=n||{},e.hrInfo)n["x_".concat(a)]||(n["x_".concat(a)]=e.hrInfo[a]);t.avatar="https://push.crc.com.cn:8888/empPhoto/rest/getPhoto/person/".concat(e.userId),t.username=e.hrInfo.nameFormal,t.robotName={CR001:"小润",CR006:"润小丰",CR012:"润小花"}[e.hrInfo.businessUnit],t.robotName&&o.setTitle(t.robotName),n&&(t.previewParams=n),new xe(t)},fail:function(e){n&&(t.previewParams=n),new xe(t)}})})),i.abrupt("return");case 11:n&&(t.previewParams=n),new xe(t);case 13:case"end":return i.stop()}}),null,this)}},{key:"getQueryObject",value:function(){var e=window.location.search||window.location.hash,t=e.substring(e.lastIndexOf("?")+1),n={},a=/([^&=]+)=([^&=]*)/g;return t.replace(a,(function(e,t,a){var o=decodeURIComponent(t),i=decodeURIComponent(a);return i=String(i),n[o]=i,e})),n}},{key:"getPreviewParams",value:function(e){var t={};for(var n in e)n.startsWith("x_")&&(t[n]=e[n]);return"{}"===JSON.stringify(t)?null:t}},{key:"setTitle",value:function(e){document.getElementsByTagName("body")[0];document.title=e;var t=document.createElement("iframe");t.style.display="none",t.setAttribute("src","/favicon.ico");var n=function e(){setTimeout((function(){t.removeEventListener("load",e),document.body.removeChild(t)}),0)};t.addEventListener("load",n),document.body.appendChild(t)}}]),t}(m["c"]);He=d["a"]([m["a"]],He);var De=He,Ge=De,Fe=(n("4d1c"),Object(W["a"])(Ge,i,s,!1,null,null,null)),Pe=Fe.exports;o["a"].config.productionTip=!1,new o["a"]({render:function(e){return e(Pe)}}).$mount("#app")},accf:function(e,t,n){},af1c:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEgAAABICAYAAABV7bNHAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAASKADAAQAAAABAAAASAAAAACQMUbvAAAE/0lEQVR4Ae2aS2hcZRSA5xVjUCu2iBJ8gIVSO4qCVAURjAuTTF6tiuC2bUAUUeJCdCH1tRAUirjUlaCCLswLMhBF25iF0EWLcSE6iC1dWMfQVtFJMhm/v+TCuWcemZk7d265noHLPef85//vf74557/PRMJ+RsAIGAEjYASMgBEwAkbACBgBI2AEjIARiBWBZJBoZmdnJyuVyrtsO4KM08m+yWTyPONNjo+PT3di3FSQQa40OC4W5nQju7eDxCX7BgV0xWSODAr5JqW3rQYC1PZRw+94bacOkenUQG4c6v9bUvwbNeaT6Flle13pgVSO+zDHfdQbBPlqtjT2smdrd99RQA7OxMTEUTmZ6enpfeg+QNpH+rcjc7KYkoDcGIuLiy6LLrQznuwTixIDzl8yKCdju0bb2tFjAYhSqgK0vr7ekXUotoA2NzcNkFcywKjKoFQqZYA8QOl0+m9P9vaWQR4J9uVyuSqDWKQtgzxGZFAVIBZuO4t5gHp7e6sAWQZ5dNivra0ZIMGjSszlciVKakM2oNsaJIFQUvpMZoAkoBpX07ZIS0BkkF6HbpDt7cqxuNVwwesMAtgB7vJz7YLx+sUGEAEVvaC29ikgfZTP5wOVWmwAcS10BDC/SEgAurlUKh2Stlbl2AAaHBw809PTM06plRSEA0pvSY0NIBc110M/sptXBLJKb0mNFaCtyAuSAGUW6GwWO0AAuVMCQtaLt2purMYKEC8IHiLcYRkya9JJqbcqd/StBpPZz7XHc3IS/KO72aSpKZlxHqGfeyOy7Y/jJvHdwzaJs/7TP9l2gAYOHQXEBHNua3C8y01zc3P3jY6ObvfP3sNYx7Yby7XjV8/tOO/oP63X2Ixd026mT2AfngB+PzMz8+HS0tJ19QbjIdjxem1N2v8hsZ5t0reuWyBATEDfQdc9kGpwV7mHi8Xid/Pz87ertsvq8PDwaca/WKutCdvvAB4ke1aa8G3oEggQI7/JFuT17t0bGxtfLSws7NSzBI4bd1nb6+n4V9h+pv0t4OylhE/U823FHmgN4h96Z3l5+X0yoeH9Dq9gMpTV02TNFJO7RU1wN08EP8P2mLI71QU5JO1AuD+TyfwqbU7u6+u7NDAw8K+2B9UDfUDV6sFXVlauKhQKR3kl80qNvk/xzv5zaWcxHwDs19IG7INjY2NfSluYctASa2lu2Wx2jeBeJUhXmr4fmfGGz4BCppzSNuDeq21h6l0F5AUCpNeQFz3d7Sm/vZzZHpS2oaGhPwH3m7Shxx/QVsDvycCdTPAHtQ39tLLtUXqoaiQZ5CJigc8DxHdjSfns19GSWWelDX2X1MOWIwMEHGKt/CADxHaX1J2MrSht6Dvp17WTS2SAXNAs1r71hcCrrodw8wHCJ8PXY137eDRSQJTUGZkdyGl9+0HGXFI+Cfr9PwCRQed18Kurq3co221Kd19zXNC2sPRIMwhA7hGp70cJveytMZTSLrLliM8hkTjHo9WLyhaa2rXFrlYEgEjz3KfAXmfJCUrrJPYn6Her7AvUD7iOel7awpQjzSAglNleqhGg++75Rew+OPj+ga2j31jXOLbPFCkgNxOy4QsCn/PNqr4yhb+D1LVf5IBcpP39/Y+70mkQ9TrtL3Bx+XEDn1CaIl2DdETcvY+wKD+D/QFK7Hoy6yxbHjjHRkZGftL+phsBI2AEjIARMAJGwAgYgcgI/AfsjpXcRP3J9gAAAABJRU5ErkJggg=="},b0f0:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADYAAAA2CAYAAACMRWrdAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAANqADAAQAAAABAAAANgAAAADzQy6kAAABpUlEQVRoBe2aS2rDQAyGPfG40NJVKK33hVDwDXqXQO5Q6KKPXZsrdBtwLtJDGEpO0F6hdjyV4pXlLESwBtXIkAxSJpJ+fQ4BjV0ifBVFcdY0+3dIs0oSV8Naej97rarqVzK1lwyOset6v4blocsTcHlsmtbh2vlk3mcyYXtRlz2rM475jmw73RVD2DUtL4SQU9/YdgxhY9fMimfCWG1StMmIKYLBKsWIsdqkaJMRUwSDVYoRY7VJ0SYjpggGqxQjxmqTok1GTBEMVilGjNUmRZsmS8x1c7/2DZq9jDFkkYXqfpIkbLMsfUrn86s1CMIZ36Vs0ijRUcM96DnHW1F8xhdFUj/JCoSFrO+bguVqJLaZghSioUzz/OazbcMFHBjcwof/+nfmnPuG1wceeuDhgOi1WNwdTiJokt3uSzT3ZP/HTBi9lbTbRkw7IVqfEaMd0W4bMe2EaH1GjHZEu23EtBOi9Rkx2hHtthHTTojWZ8RoR7TbRuxUQjg5Gn4XR9GyVwxi5VBC2A5943rEnwmGGd8LPAOMIzgYpR+mzhvv0+dxZQyj/QFjtkKZ01+xTwAAAABJRU5ErkJggg=="},b3c3:function(e,t,n){"use strict";var a=n("873a"),o=n.n(a);o.a},c302:function(e){e.exports=JSON.parse('[{"mark":"crh_common_on_network_status_change","name":"onNetworkStatusChange"},{"mark":"crh_common_update_file_download_progress","name":"onFileDownloadProgressStatusChange"},{"mark":"crh_discover_coworker_status_did_change","name":"onDiscoverCoworkerStatusDidChange"},{"mark":"crh_user_login_did_success_notifition","name":"onUserLoginDidSuccessNotifition"},{"mark":"crh_discover_get_bless_status","name":"onDiscoverBlessStatusDidChange"},{"mark":"crh_common_on_page_resume","name":"onNativePageResume"},{"mark":"crh_common_on_page_create","name":"onNativePageCreate"},{"mark":"crh_common_on_page_pause","name":"onNativePagePause"},{"mark":"crh_common_on_page_destroy","name":"onNativePageDestroy"},{"mark":"crh_oa_refresh_download_progress","name":"onOaRefreshDownloadProgress"}]')},dc45:function(e,t,n){"use strict";var a=n("47e9"),o=n.n(a);o.a}});